# Views.py

from django.shortcuts import redirect, render
from  .forms import *
def register(request):
    if request.method=="POST":
        form = UserForm(request.POST)
        user=form.save(commit=False) # That means whenever you call form.save(), Django will build a User object using the submitted form data.
        user.set_password(form.cleaned_data["password"])
        user.save()
        return redirect ("login")
    
    form=UserForm()
    
    
    
    
    return render (request,"register.html",{"form":form})
        
# Forms.py

from django.forms import ModelForm
from .models import *

class UserForm (ModelForm):
    
    class Meta :
        
        model = User
        fields = ["username", "email", "password"] 

# urls.py

from django.urls import include,path

from django.contrib.auth import views as auth_views

from my_app import views

urlpatterns = [
    path("register/",views.register,name="register"),
   
]

        
